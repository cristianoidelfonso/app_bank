{% extends 'base.html.twig' %}

{% block title %}Log in!{% endblock %}

{% block body %}

    <style>
        .example-wrapper { padding: 1rem; margin: 6em auto; max-width: 400px; width: 90%; font: 18px/1.5 sans-serif; }
        .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    </style>
    
    <div class="example-wrapper">

        <h1 class="h1 mb-2 text-primary">Login</h1>
    
        <form method="post" class="mt-5" style="">
            {% if error %}
                <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
            {% endif %}

            {% if app.user %}
                <div class="mb-3">
                    You are logged in as {{ app.user.userIdentifier }}, <a href="{{ path('app_logout') }}">Logout</a>
                </div>
            {% endif %}

            <div class="form-group">
                <label class="form-label text-primary" for="inputEmail">Email</label>
                <input type="email" value="{{ last_username }}" name="email" id="inputEmail" class="form-control mb-2" autocomplete="email" required autofocus>
            </div>
            <div class="form-group">
                <label class="form-label text-primary" for="inputPassword">Password</label>
                <input type="password" name="password" id="inputPassword" class="form-control mb-2" autocomplete="current-password" required>
            </div>

            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

            {#
                Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
                See https://symfony.com/doc/current/security/remember_me.html

                <div class="checkbox mb-3">
                    <label>
                        <input type="checkbox" name="_remember_me"> Remember me
                    </label>
                </div>
            #}

            <button class="btn btn-lg btn-primary w-100 py-2 mt-3" type="submit">Sign in</button>

            <div class="d-flex justify-content-end align-items-center mt-3">
                Don't have an account? &ensp; <a href="{{ path('app_register') }}">Register here</a>
            </div>
            <div class="d-flex justify-content-end align-items-center mt-3">
                Return to home page? &ensp; <a href="{{ path('app_base') }}">Home</a>
            </div>

        </form>
    </div>


    {# <style>
        .example-wrapper { padding: 1rem; margin: 6em auto; max-width: 400px; width: 90%; font: 18px/1.5 sans-serif; }
        .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    </style> #}
    
    {# <div class="example-wrapper"> #}
        {# {% for flash_error in app.flashes('verify_email_error') %}
            <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
        {% endfor %} #}

        {# {% if error %}
            <div class="alert alert-danger" role="alert">
                {{ error.messageKey|trans(error.messageData, 'security') }}
            </div>
        {% endif %} #}

        {# <h1 class="h1 mb-2 text-primary">Login</h1> #}

        {# {{ form_start(loginForm, {'attr': {'class': 'mt-5'}}) }} #}

            {# {{ form_row(loginForm.email) }} #}
            {# {{ form_row(loginForm.password, { label: 'Password' }) }} #}

            {# <div class="form-group">
                {{ form_label(loginForm.email, 'Email', {'label_attr': {'class':'form-label text-primary'}}) }}
                {{ form_widget( loginForm.email, {'attr': {'class': 'form-control mb-2'}} ) }}
                {{ form_errors(loginForm.email) }}
            </div> #}

            {# <div class="form-group">
                {{ form_label(loginForm.password, 'Password', {'label_attr': {'class':'form-label text-primary'}}) }}
                {{ form_widget( loginForm.password, {'attr': {'class': 'form-control mb-2'}} ) }}
                {{ form_errors(loginForm.password) }}
            </div> #}

            {# <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}"> #}

            {# <button type="submit" class="btn btn-sm btn-primary w-100 py-2 mt-3">Login</button> #}

            {# <div class="d-flex justify-content-end align-items-center mt-3">
                Don't have an account? &ensp; <a href="{{ path('app_register') }}">Register here</a>
            </div>
            <div class="d-flex justify-content-end align-items-center mt-3">
                Return to home page? &ensp; <a href="{{ path('app_base') }}">Home</a>
            </div> #}
        {# {{ form_end(loginForm) }} #}
    {# </div> #}

{% endblock %}
